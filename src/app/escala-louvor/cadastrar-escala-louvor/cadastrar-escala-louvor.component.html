<div class="container espaco-baixo">
    <div class="titulo">
        <h1>{{ editando ? 'Edição de' : 'Nova' }} Escala Louvor</h1>
    </div>

    <form #f="ngForm">
        <mat-card class="card">
            <mat-card-header class="titulo-card">
                Preencha todo o formulário para cadastrar uma nova Escala
            </mat-card-header>

            <mat-card-content class="card">
                <div class="col-md-8">
                    <mat-form-field class="col-md-4" style="margin-top: 30px;">
                        <mat-select placeholder="Tipo do Culto" [(ngModel)]="escala.tipoCulto" name="tipoCulto">
                            <mat-option *ngFor="let tipo of tiposCulto" [value]="tipo.value">
                                {{tipo.view}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <div class="col-md-8">
                    <mat-form-field class="col-md-5">
                        <input matInput placeholder="Descrição" [(ngModel)]="escala.descricao" name="descricao">
                    </mat-form-field>
                    
                    <mat-form-field class="col-md-3">
                        <input matInput [matDatepicker]="picker" placeholder="Data" [(ngModel)]="escala.data" name="data"
                        required disabled>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker disabled="false"></mat-datepicker>
                    </mat-form-field>
                </div>

                <div class="col-md-6">
                    <span class="col-md-4" style="font-size: 25px; color: #02ffab">Ministros:</span>
                </div><br>

                <div class="col-md-12">
                    <p-pickList [source]="ministros" [target]="ministrosSelecionados" sourceHeader="Disponíveis"
                        targetHeader="Selecionados" [responsive]="true" filterBy="nome" dragdrop="true" dragdropScope="ministros"
                        sourceFilterPlaceholder="Buscar pelo Nome" targetFilterPlaceholder="Buscar pelo Nome"
                        [sourceStyle]="{'height':'300px'}" [targetStyle]="{'height':'300px'}" name="ministros">
                        <ng-template let-ministro pTemplate="item">
                            <div class="ui-helper-clearfix">
                                <div style="font-size:14px;float:center;margin:15px 5px 0 0">{{ministro.pessoa.nome}} -
                                    {{ministro.tipoMinisterio}}
                                </div>
                            </div>
                        </ng-template>
                    </p-pickList>
                </div><br>

                <div class="col-md-6">
                    <span class="col-md-4" style="font-size: 25px; color: #02ffab">Músicas:</span>
                </div><br>

                <div class="col-md-12">
                    <p-pickList [source]="musicas" [target]="musicasSelecionadas" sourceHeader="Disponíveis"
                        targetHeader="Músicas Selecionadas" [responsive]="true" filterBy="descricao" dragdrop="true"
                        dragdropScope="musicas" sourceFilterPlaceholder="Buscar pela Descrição" targetFilterPlaceholder="Buscar pela Descrição"
                        [sourceStyle]="{'height':'300px'}" [targetStyle]="{'height':'300px'}" name="musicas">
                        <ng-template let-musica pTemplate="item">
                            <div class="ui-helper-clearfix">
                                <div style="font-size:14px;float:center;margin:15px 5px 0 0">{{musica.nomeOriginal}} - Tom 
                                    {{musica.tom}}
                                </div>
                            </div>
                        </ng-template>
                    </p-pickList>
                </div>

            </mat-card-content>

            <mat-card-actions>
                <div>
                    <button type="submit" (click)="salvar()" mat-raised-button class="botao-padrao botao-verde">
                        Salvar<mat-icon style="margin-bottom:4px; margin-left: 7px;">send</mat-icon>
                    </button>

                    <a class="botao-link" style="margin-left: 10px;" mat-button color="primary" routerLink="/escala-louvor">Voltar
                        para Pesquisa</a>
                </div>
            </mat-card-actions>

        </mat-card>
    </form>


</div>