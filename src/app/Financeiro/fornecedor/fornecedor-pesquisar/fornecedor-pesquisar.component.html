<div class="container">
    <div class="titulo">
      <h1>Fornecedores Cadastrados</h1>
    </div>

      <div class="col-md-4">
        <mat-form-field class="input-full-width">
            <input matInput (keyup)="applyFilter($event.target.value)"
             placeholder="Filtrar Fornecedor">     
             <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </div>
  
      <div class="col-md-12 mat-elevation-z8">
          <table mat-table [dataSource]="dataSource">

          <ng-container matColumnDef="nome">
              <th mat-header-cell *matHeaderCellDef> Nome </th>    
              <td mat-cell *matCellDef="let forn"> {{forn.nome}} </td>
          </ng-container>

          <ng-container matColumnDef="tipo">
              <th mat-header-cell *matHeaderCellDef> Tipo </th>
              <td mat-cell *matCellDef="let forn"> {{forn.tipo}} </td>
          </ng-container>  

          <ng-container matColumnDef="cnpj">
             <th mat-header-cell *matHeaderCellDef> Cnpj </th>
             <td mat-cell *matCellDef="let forn"> {{forn.cnpj}} </td>
          </ng-container>

          <ng-container matColumnDef="celular">
              <th mat-header-cell *matHeaderCellDef> Celular </th>
              <td mat-cell *matCellDef="let forn"> {{forn.celular}} </td>
          </ng-container>

          <ng-container matColumnDef="telefone">
              <th mat-header-cell *matHeaderCellDef> Telefone </th>
              <td mat-cell *matCellDef="let forn"> {{forn.telefone}} </td>
          </ng-container>

           <ng-container matColumnDef="acoes">
              <th mat-header-cell *matHeaderCellDef> Ações </th>
              <td mat-cell *matCellDef="let forn">
                    <button mat-mini-fab matTooltip="Detalhes" color="primary" matTooltipPosition="above"
                    (click)="showDialog(forn)" style="margin-right: 5px;">
                        <mat-icon>search</mat-icon>
                    </button>
                  <button mat-mini-fab matTooltip="Editar" matTooltipPosition="above"
                     [routerLink]="['/fornecedor', forn.id]">
                      <mat-icon>create</mat-icon>
                  </button>
                  <button mat-mini-fab color="warn" style="margin-left: 5px;"
                     matTooltip="Excluir" matTooltipPosition="right" (click)="confirmarExclusao(forn.id)">
                      <mat-icon>delete</mat-icon>
                  </button>                              
              </td>
            </ng-container>          

        <tr mat-header-row *matHeaderRowDef="colunas"></tr>
        <tr mat-row *matRowDef="let forn; columns: colunas;"></tr>  

    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>    
      
    </div>

    <a mat-raised-button color="primary" routerLink="/fornecedor/novo" 
     style="text-decoration: none; margin-top: 20px;">Novo Fornecedor
        <mat-icon style="margin-bottom:4px; margin-left: 7px;">add</mat-icon></a>


        <p-dialog header="DETALHES" [(visible)]="display" [modal]="true" [responsive]="true"
        [width]="500" [focusOnShow]=true>
           <div *ngIf="fornecedorSelecionado">
             <div>
               <mat-list role="list">
                 <mat-list-item role="listitem"> Endereço
                     <mat-icon mat-list-icon>home</mat-icon>
                 </mat-list-item>
                 <mat-list-item role="listitem">CEP: {{ fornecedorSelecionado.cep }} </mat-list-item>
                 <mat-list-item role="listitem">Estado: {{ fornecedorSelecionado.estado }} </mat-list-item>
                 <mat-list-item role="listitem">Cidade: {{ fornecedorSelecionado.cidade }} </mat-list-item>
                 <mat-list-item role="listitem">Bairro: {{ fornecedorSelecionado.endereco }} </mat-list-item>
                 <mat-divider></mat-divider>
                 <mat-list-item role="listitem"> Conta Bancária
                    <mat-icon mat-list-icon>monetization_on</mat-icon>
                </mat-list-item>
                 <mat-list-item role="listitem">Banco: {{ fornecedorSelecionado.banco }} </mat-list-item>
                 <mat-list-item role="listitem">Agência: {{ fornecedorSelecionado.agencia }} </mat-list-item>
                 <mat-list-item role="listitem">Conta: {{ fornecedorSelecionado.conta }} </mat-list-item>
               </mat-list>
             </div>
           </div>
       </p-dialog>
   


</div>